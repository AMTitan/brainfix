# Brainfix v2.0
This is a reboot of a little project I did as a student. BrainFix is a compiler that takes a C-style
language (with elements taken from other languages or designed to match the needs) and compiles this
into [BrainF*ck](https://en.wikipedia.org/wiki/Brainfuck), an esoteric programming language consisting of only 8 operations.

## Bisonc++ and Flexc++
The lexical scanner and parser that are used to parse the Brainfix language are generated by [Bisonc++](https://fbb-git.gitlab.io/bisoncpp/)
and [Flexc++](https://fbb-git.gitlab.io/flexcpp/) (not to be confused with bison++ and flex++). This software is readily available in the
Debian repositories, but not necessarily needed to build this project. The sourcefiles generated by these programs based on the
current grammar and lexer specifications are included in the source-folder.

## Building
To build the project, simply cd into the src folder and call make:

```
cd src
make
```

To let bisonc++ and flexc++ regenerate the sourcecode for the scanner and parser, do

```
make regenerate
make
```

To run the resulting Brainf*ck code, you can use any third party utility that does the job. However, a simple
interpreter is included in the project, which you can build by running

```
make interpreter
```

## Usage
Building the project results in a executable called `bfx`. It takes a single argument which is the path to the
BrainFix file (usually .bfx) that needs to be compiled and sends its output (brainf*ck code) to stdout:

```
./bfx path/to/file.bfx > output.bf
```

To run the resulting BF, call the included interpreter or any other utility that was designed to run or compile
BF. The included interpreter takes 2 arguments: the size of the machine (number of bytes) and the input-file.
For example:

```
./bfint 30000 output.bf
```

### Hello World
Every programming language tutorial starts with a "Hello, World!" program of some sort. This is no exception:

```javascript
// File: hello.bfx
include "std/io.bfx"

function main()
{
	println("Hello, World!");
}
```

The program starts with an end-of-line comment (C-comment blocks between `/*` and `*/` are also allowed) and then
includes the IO-library which is included with this project. This exposes some basic IO-facilities the sourcefile.

Next, the main-function is defined. Every valid BFX-program should contain a `main` function which takes no arguments
and does not return anything. The order in which the functions are defined in a BFX-file does not matter; the compiler
will always try to find main and use this as the entrypoint.

In `main()`, the function `println()` from the IO library is called to print the argument and a newline to the console.
Let's try:

```
$ ./bfx hello.bfx > hello.bf
$ ./bfint 30000 hello.bf
$ Hello, World!
$
```